<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Vadym Antonyuk — deisign.me</title>

<link rel="canonical" href="https://deisign.me" />
<meta name="description" content="Portfolio of Vadym Antonyuk — series, linocuts, acrylic and digital works inspired by mid-century modern aesthetics.">
<meta property="og:image" content="https://deisign.me/preview.jpg">
<meta name="twitter:card" content="summary_large_image">

<!-- favicons -->
<link rel="icon" type="image/png" href="32.png">
<link rel="apple-touch-icon" href="512.png">

<style>
:root{
  --paper-bg:#f5f0e6;
  --paper-text:url('https://www.transparenttextures.com/patterns/paper-fibers.png');
  --frame:#111;
  --btn:#3A6EA5; --btn-hover:#F7B801;
  --thumb-size:140px;
}

/* basic layout */
body{margin:0;background:var(--paper-bg) var(--paper-text);font:16px/1.5 system-ui;}
header{background:#DB4F3D;color:#fff;padding:18px 22px;font-size:22px;}
main{max-width:1200px;margin:0 auto;padding:24px;}
nav.filter{
  display:flex;flex-wrap:wrap;gap:8px;margin:12px 24px 24px;
}
nav.filter button{
  background:#fff;border:1px solid #ccc;padding:6px 14px;
  cursor:pointer;font-size:15px;border-radius:6px;
}
nav.filter button.active{
  background:#DB4F3D;color:#fff;border-color:#DB4F3D;
}
.series{
  margin-bottom:48px;padding:16px 24px 28px;background:#fff;border-radius:8px;
  box-shadow:0 1px 3px #0001;
}
.series h2{margin:0 0 6px;}
.series .works{display:flex;flex-wrap:wrap;gap:10px;}
.series .work img{
  width:var(--thumb-size);height:auto;border-radius:4px;display:block;
  transition:transform .2s ease;cursor:pointer;
}
.series .work img:hover{transform:scale(1.05);}
.series .work p{margin:3px 0 0;font-size:13px;text-align:center;}

/* splash */
#splash{
  position:fixed;inset:0;background:#DB4F3D;
  display:flex;align-items:center;justify-content:center;
  z-index:9999;transition:opacity .5s ease;
}
#splash.hidden{opacity:0;pointer-events:none;}
#splash img{width:128px;height:128px;animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{opacity:.7;}50%{opacity:1;}}

/* lightbox (оставляем) */
.lightbox{
  position:fixed;inset:0;background:rgba(0,0,0,.9);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;transition:.2s ease;z-index:9999;
}
.lightbox.open{opacity:1;pointer-events:auto;}
.lightbox img{max-width:90vw;max-height:90vh;}
.lightbox button{
  position:absolute;background:none;border:none;color:#fff;font-size:32px;
  cursor:pointer;user-select:none;
}
.lb-close{top:20px;right:24px;}
.lb-prev{left:24px;}
.lb-next{right:24px;}
.lb-caption{position:absolute;bottom:20px;width:100%;text-align:center;color:#fff;}
</style>
</head>

<body>

<!-- Splash -->
<div id="splash"><img src="512.png" alt="symbol"></div>

<!-- Lightbox -->
<div id="lightbox" class="lightbox">
  <button class="lb-close">✕</button>
  <button class="lb-prev">←</button>
  <img class="lb-img" alt="">
  <button class="lb-next">→</button>
  <div class="lb-caption"></div>
</div>

<header>Vadym Antonyuk — deisign.me</header>
<nav class="filter"></nav>
<main id="gallery"></main>

<script>
let allSeries=[],filtered=[],currentMedia="all",perPage=5,page=0;

async function init(){
  const r=await fetch('works.json'); allSeries=await r.json();
  filtered=[...allSeries];
  buildFilterMenu();
  renderNext();
  hideSplash();
  initLightbox();
}

function buildFilterMenu(){
  const medias=[...new Set(allSeries.map(s=>s.media))];
  const nav=document.querySelector('nav.filter');
  nav.innerHTML='<button data-media="all" class="active">All</button>'+
    medias.map(m=>`<button data-media="${m}">${m}</button>`).join('');
  nav.addEventListener('click',e=>{
    const btn=e.target.closest('button'); if(!btn)return;
    document.querySelectorAll('nav.filter button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    currentMedia=btn.dataset.media;
    page=0;
    filtered=currentMedia==='all'?allSeries:allSeries.filter(s=>s.media===currentMedia);
    document.getElementById('gallery').innerHTML='';
    renderNext();
  });
}

function renderNext(){
  const container=document.getElementById('gallery');
  const next=filtered.slice(page*perPage,page*perPage+perPage);
  next.forEach(s=>container.appendChild(renderSeries(s)));
  page++;
  if(page*perPage<filtered.length){
    const more=document.createElement('button');
    more.textContent='Дальше';
    more.style.cssText='display:block;margin:24px auto;padding:8px 18px;';
    more.onclick=()=>{more.remove();renderNext();};
    container.appendChild(more);
  }
}

function renderSeries(item){
  const sec=document.createElement('section');
  sec.className='series';
  sec.innerHTML=`
    <h2>${item.title}</h2>
    <p class="meta">${item.year} / ${item.media}</p>
    <p class="description">${item.description||''}</p>
    <div class="works">
      ${item.images.map(i=>`
        <div class="work">
          <img src="${i.thumb||i.url}" data-full="${i.full||i.url}" alt="${i.title||''}">
          <p>${i.title||''}</p>
        </div>`).join('')}
    </div>`;
  return sec;
}

function hideSplash(){ setTimeout(()=>document.getElementById('splash').classList.add('hidden'),1000); }

/* lightbox */
let LB={root:null,img:null,cap:null,list:[],idx:0};
function initLightbox(){
  LB.root=document.getElementById('lightbox');
  LB.img=LB.root.querySelector('.lb-img');
  LB.cap=LB.root.querySelector('.lb-caption');
  document.addEventListener('click',e=>{
    const img=e.target.closest('.work img'); if(!img)return;
    LB.list=[...document.querySelectorAll('.work img')];
    LB.idx=LB.list.indexOf(img);
    openLightbox(LB.idx);
  });
  LB.root.querySelector('.lb-close').onclick=closeLB;
  LB.root.querySelector('.lb-prev').onclick=()=>openLightbox(LB.idx-1);
  LB.root.querySelector('.lb-next').onclick=()=>openLightbox(LB.idx+1);
  window.addEventListener('keydown',e=>{
    if(e.key==='Escape')closeLB();
    if(e.key==='ArrowLeft')openLightbox(LB.idx-1);
    if(e.key==='ArrowRight')openLightbox(LB.idx+1);
  });
}
function openLightbox(i){
  LB.idx=(i+LB.list.length)%LB.list.length;
  const img=LB.list[LB.idx];
  LB.img.src=img.dataset.full;
  LB.cap.textContent=img.alt||'';
  LB.root.classList.add('open');
}
function closeLB(){LB.root.classList.remove('open');}
init();
</script>
</body>
</html>
